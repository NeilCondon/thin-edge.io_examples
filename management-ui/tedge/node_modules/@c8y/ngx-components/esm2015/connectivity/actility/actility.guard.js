var ActilityGuard_1;
import * as tslib_1 from "tslib";
import { Injectable } from '@angular/core';
import { ApplicationService } from '@c8y/client';
let ActilityGuard = ActilityGuard_1 = class ActilityGuard {
    constructor(applicationService) {
        this.applicationService = applicationService;
    }
    canActivate(route, state) {
        if (this.showActilityProvider === undefined) {
            this.showActilityProvider = this.applicationService
                .isAvailable(ActilityGuard_1.applicationName)
                .then(result => result && result.data);
        }
        return this.showActilityProvider;
    }
};
ActilityGuard.applicationName = 'actility';
ActilityGuard.ctorParameters = () => [
    { type: ApplicationService }
];
ActilityGuard = ActilityGuard_1 = tslib_1.__decorate([
    Injectable()
], ActilityGuard);
export { ActilityGuard };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWN0aWxpdHkuZ3VhcmQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AYzh5L25neC1jb21wb25lbnRzL2Nvbm5lY3Rpdml0eS8iLCJzb3VyY2VzIjpbImFjdGlsaXR5L2FjdGlsaXR5Lmd1YXJkLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUUzQyxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFHakQsSUFBYSxhQUFhLHFCQUExQixNQUFhLGFBQWE7SUFJeEIsWUFBb0Isa0JBQXNDO1FBQXRDLHVCQUFrQixHQUFsQixrQkFBa0IsQ0FBb0I7SUFBRyxDQUFDO0lBRTlELFdBQVcsQ0FBQyxLQUE2QixFQUFFLEtBQTBCO1FBQ25FLElBQUksSUFBSSxDQUFDLG9CQUFvQixLQUFLLFNBQVMsRUFBRTtZQUMzQyxJQUFJLENBQUMsb0JBQW9CLEdBQUcsSUFBSSxDQUFDLGtCQUFrQjtpQkFDaEQsV0FBVyxDQUFDLGVBQWEsQ0FBQyxlQUFlLENBQUM7aUJBQzFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDMUM7UUFFRCxPQUFPLElBQUksQ0FBQyxvQkFBb0IsQ0FBQztJQUNuQyxDQUFDO0NBQ0YsQ0FBQTtBQWR5Qiw2QkFBZSxHQUFHLFVBQVUsQ0FBQzs7WUFHYixrQkFBa0I7O0FBSi9DLGFBQWE7SUFEekIsVUFBVSxFQUFFO0dBQ0EsYUFBYSxDQWV6QjtTQWZZLGFBQWEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90LCBDYW5BY3RpdmF0ZSwgUm91dGVyU3RhdGVTbmFwc2hvdCB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5pbXBvcnQgeyBBcHBsaWNhdGlvblNlcnZpY2UgfSBmcm9tICdAYzh5L2NsaWVudCc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBBY3RpbGl0eUd1YXJkIGltcGxlbWVudHMgQ2FuQWN0aXZhdGUge1xuICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBhcHBsaWNhdGlvbk5hbWUgPSAnYWN0aWxpdHknO1xuICBwcml2YXRlIHNob3dBY3RpbGl0eVByb3ZpZGVyOiBQcm9taXNlPGJvb2xlYW4+O1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgYXBwbGljYXRpb25TZXJ2aWNlOiBBcHBsaWNhdGlvblNlcnZpY2UpIHt9XG5cbiAgY2FuQWN0aXZhdGUocm91dGU6IEFjdGl2YXRlZFJvdXRlU25hcHNob3QsIHN0YXRlOiBSb3V0ZXJTdGF0ZVNuYXBzaG90KTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgaWYgKHRoaXMuc2hvd0FjdGlsaXR5UHJvdmlkZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5zaG93QWN0aWxpdHlQcm92aWRlciA9IHRoaXMuYXBwbGljYXRpb25TZXJ2aWNlXG4gICAgICAgIC5pc0F2YWlsYWJsZShBY3RpbGl0eUd1YXJkLmFwcGxpY2F0aW9uTmFtZSlcbiAgICAgICAgLnRoZW4ocmVzdWx0ID0+IHJlc3VsdCAmJiByZXN1bHQuZGF0YSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc2hvd0FjdGlsaXR5UHJvdmlkZXI7XG4gIH1cbn1cbiJdfQ==