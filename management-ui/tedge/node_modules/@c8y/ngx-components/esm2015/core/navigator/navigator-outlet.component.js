import * as tslib_1 from "tslib";
import { Component, Input } from '@angular/core';
import { HeaderService } from '../header/index';
import { BehaviorSubject } from 'rxjs';
/**
 * The component shows all nodes that have been added to the navigator.
 * In addition, it allows you to add a header and a footer to the navigator.
 *
 * ## Example:
 * ```html
 * <c8y-navigator-outlet [nodes]="navigatorService.items$ | async" [open]="isOpen">
 *   <header class="navigator-slot-top"></header>
 *   <footer class="navigator-slot-bottom"></footer>
 * </c8y-navigator-outlet>
 * ```
 */
let NavigatorOutletComponent = class NavigatorOutletComponent {
    constructor(headerService) {
        this.headerService = headerService;
        /**
         * Determines whether the navigator menu should be open/closed.
         */
        this.open = true;
        /**
         * Determines whether the navigator pane should be rendered.
         */
        this.isShown$ = new BehaviorSubject(false);
    }
    /**
     * @ignore
     */
    ngOnChanges() {
        this.isShown$.next(this.nodes && this.nodes.length > 0);
    }
    /**
     * Closes the navigator menu after clicking an item in the menu, in case of insufficient screen width.
     */
    collapseNavigator(from) {
        if (from === 'link' && !this.headerService.largeWidth) {
            this.headerService.closeNavigator();
        }
    }
    /**
     * @ignore
     */
    trackByPathOrLabel(index, node) {
        return node.path ? node.path : node.label;
    }
};
NavigatorOutletComponent.ctorParameters = () => [
    { type: HeaderService }
];
tslib_1.__decorate([
    Input()
], NavigatorOutletComponent.prototype, "nodes", void 0);
tslib_1.__decorate([
    Input()
], NavigatorOutletComponent.prototype, "open", void 0);
NavigatorOutletComponent = tslib_1.__decorate([
    Component({
        selector: 'c8y-navigator-outlet, c8y-ui-navigator',
        template: "<nav class=\"navigator\" *ngIf=\"isShown$ | async\" [ngClass]=\"{ open: open }\">\n  <ng-content select=\".navigator-slot-top\"></ng-content>\n  <ul class=\"navigatorContent\">\n    <c8y-navigator-node-display (nodeClick)=\"collapseNavigator($event)\" [node]=\"node\" *ngFor=\"let node of nodes trackBy trackByPathOrLabel\" [isRoot]=\"true\"></c8y-navigator-node-display>\n  </ul>\n  <ng-content select=\".navigator-slot-bottom\"></ng-content>\n</nav>\n"
    })
], NavigatorOutletComponent);
export { NavigatorOutletComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmF2aWdhdG9yLW91dGxldC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AYzh5L25neC1jb21wb25lbnRzLyIsInNvdXJjZXMiOlsiY29yZS9uYXZpZ2F0b3IvbmF2aWdhdG9yLW91dGxldC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRWpELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNoRCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBRXZDOzs7Ozs7Ozs7OztHQVdHO0FBS0gsSUFBYSx3QkFBd0IsR0FBckMsTUFBYSx3QkFBd0I7SUFjbkMsWUFBb0IsYUFBNEI7UUFBNUIsa0JBQWEsR0FBYixhQUFhLENBQWU7UUFUaEQ7O1dBRUc7UUFDTSxTQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ3JCOztXQUVHO1FBQ0gsYUFBUSxHQUE2QixJQUFJLGVBQWUsQ0FBVSxLQUFLLENBQUMsQ0FBQztJQUV0QixDQUFDO0lBRXBEOztPQUVHO0lBQ0gsV0FBVztRQUNULElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDMUQsQ0FBQztJQUVEOztPQUVHO0lBQ0gsaUJBQWlCLENBQUMsSUFBa0M7UUFDbEQsSUFBSSxJQUFJLEtBQUssTUFBTSxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxVQUFVLEVBQUU7WUFDckQsSUFBSSxDQUFDLGFBQWEsQ0FBQyxjQUFjLEVBQUUsQ0FBQztTQUNyQztJQUNILENBQUM7SUFFRDs7T0FFRztJQUNILGtCQUFrQixDQUFDLEtBQUssRUFBRSxJQUFJO1FBQzVCLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztJQUM1QyxDQUFDO0NBQ0YsQ0FBQTs7WUF4Qm9DLGFBQWE7O0FBVnZDO0lBQVIsS0FBSyxFQUFFO3VEQUF3QjtBQUl2QjtJQUFSLEtBQUssRUFBRTtzREFBYTtBQVJWLHdCQUF3QjtJQUpwQyxTQUFTLENBQUM7UUFDVCxRQUFRLEVBQUUsd0NBQXdDO1FBQ2xELGlkQUErQztLQUNoRCxDQUFDO0dBQ1csd0JBQXdCLENBc0NwQztTQXRDWSx3QkFBd0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBOYXZpZ2F0b3JOb2RlIH0gZnJvbSAnLi9uYXZpZ2F0b3Itbm9kZSc7XG5pbXBvcnQgeyBIZWFkZXJTZXJ2aWNlIH0gZnJvbSAnLi4vaGVhZGVyL2luZGV4JztcbmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCB9IGZyb20gJ3J4anMnO1xuXG4vKipcbiAqIFRoZSBjb21wb25lbnQgc2hvd3MgYWxsIG5vZGVzIHRoYXQgaGF2ZSBiZWVuIGFkZGVkIHRvIHRoZSBuYXZpZ2F0b3IuXG4gKiBJbiBhZGRpdGlvbiwgaXQgYWxsb3dzIHlvdSB0byBhZGQgYSBoZWFkZXIgYW5kIGEgZm9vdGVyIHRvIHRoZSBuYXZpZ2F0b3IuXG4gKlxuICogIyMgRXhhbXBsZTpcbiAqIGBgYGh0bWxcbiAqIDxjOHktbmF2aWdhdG9yLW91dGxldCBbbm9kZXNdPVwibmF2aWdhdG9yU2VydmljZS5pdGVtcyQgfCBhc3luY1wiIFtvcGVuXT1cImlzT3BlblwiPlxuICogICA8aGVhZGVyIGNsYXNzPVwibmF2aWdhdG9yLXNsb3QtdG9wXCI+PC9oZWFkZXI+XG4gKiAgIDxmb290ZXIgY2xhc3M9XCJuYXZpZ2F0b3Itc2xvdC1ib3R0b21cIj48L2Zvb3Rlcj5cbiAqIDwvYzh5LW5hdmlnYXRvci1vdXRsZXQ+XG4gKiBgYGBcbiAqL1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYzh5LW5hdmlnYXRvci1vdXRsZXQsIGM4eS11aS1uYXZpZ2F0b3InLFxuICB0ZW1wbGF0ZVVybDogJy4vbmF2aWdhdG9yLW91dGxldC50ZW1wbGF0ZS5odG1sJ1xufSlcbmV4cG9ydCBjbGFzcyBOYXZpZ2F0b3JPdXRsZXRDb21wb25lbnQge1xuICAvKipcbiAgICogTmF2aWdhdG9yIG5vZGVzIGxpc3QuXG4gICAqL1xuICBASW5wdXQoKSBub2RlczogTmF2aWdhdG9yTm9kZVtdO1xuICAvKipcbiAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBuYXZpZ2F0b3IgbWVudSBzaG91bGQgYmUgb3Blbi9jbG9zZWQuXG4gICAqL1xuICBASW5wdXQoKSBvcGVuID0gdHJ1ZTtcbiAgLyoqXG4gICAqIERldGVybWluZXMgd2hldGhlciB0aGUgbmF2aWdhdG9yIHBhbmUgc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgKi9cbiAgaXNTaG93biQ6IEJlaGF2aW9yU3ViamVjdDxib29sZWFuPiA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Ym9vbGVhbj4oZmFsc2UpO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgaGVhZGVyU2VydmljZTogSGVhZGVyU2VydmljZSkge31cblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgbmdPbkNoYW5nZXMoKTogdm9pZCB7XG4gICAgdGhpcy5pc1Nob3duJC5uZXh0KHRoaXMubm9kZXMgJiYgdGhpcy5ub2Rlcy5sZW5ndGggPiAwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZXMgdGhlIG5hdmlnYXRvciBtZW51IGFmdGVyIGNsaWNraW5nIGFuIGl0ZW0gaW4gdGhlIG1lbnUsIGluIGNhc2Ugb2YgaW5zdWZmaWNpZW50IHNjcmVlbiB3aWR0aC5cbiAgICovXG4gIGNvbGxhcHNlTmF2aWdhdG9yKGZyb206ICdpY29uJyB8ICdleHBhbmRlcicgfCAnbGluaycpIHtcbiAgICBpZiAoZnJvbSA9PT0gJ2xpbmsnICYmICF0aGlzLmhlYWRlclNlcnZpY2UubGFyZ2VXaWR0aCkge1xuICAgICAgdGhpcy5oZWFkZXJTZXJ2aWNlLmNsb3NlTmF2aWdhdG9yKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIHRyYWNrQnlQYXRoT3JMYWJlbChpbmRleCwgbm9kZSkge1xuICAgIHJldHVybiBub2RlLnBhdGggPyBub2RlLnBhdGggOiBub2RlLmxhYmVsO1xuICB9XG59XG4iXX0=