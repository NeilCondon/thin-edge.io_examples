import * as tslib_1 from "tslib";
import { Injectable } from '@angular/core';
import { ApplicationService } from '@c8y/client';
var ActilityGuard = /** @class */ (function () {
    function ActilityGuard(applicationService) {
        this.applicationService = applicationService;
    }
    ActilityGuard_1 = ActilityGuard;
    ActilityGuard.prototype.canActivate = function (route, state) {
        if (this.showActilityProvider === undefined) {
            this.showActilityProvider = this.applicationService
                .isAvailable(ActilityGuard_1.applicationName)
                .then(function (result) { return result && result.data; });
        }
        return this.showActilityProvider;
    };
    var ActilityGuard_1;
    ActilityGuard.applicationName = 'actility';
    ActilityGuard.ctorParameters = function () { return [
        { type: ApplicationService }
    ]; };
    ActilityGuard = ActilityGuard_1 = tslib_1.__decorate([
        Injectable()
    ], ActilityGuard);
    return ActilityGuard;
}());
export { ActilityGuard };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWN0aWxpdHkuZ3VhcmQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AYzh5L25neC1jb21wb25lbnRzL2Nvbm5lY3Rpdml0eS8iLCJzb3VyY2VzIjpbImFjdGlsaXR5L2FjdGlsaXR5Lmd1YXJkLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRTNDLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUdqRDtJQUlFLHVCQUFvQixrQkFBc0M7UUFBdEMsdUJBQWtCLEdBQWxCLGtCQUFrQixDQUFvQjtJQUFHLENBQUM7c0JBSm5ELGFBQWE7SUFNeEIsbUNBQVcsR0FBWCxVQUFZLEtBQTZCLEVBQUUsS0FBMEI7UUFDbkUsSUFBSSxJQUFJLENBQUMsb0JBQW9CLEtBQUssU0FBUyxFQUFFO1lBQzNDLElBQUksQ0FBQyxvQkFBb0IsR0FBRyxJQUFJLENBQUMsa0JBQWtCO2lCQUNoRCxXQUFXLENBQUMsZUFBYSxDQUFDLGVBQWUsQ0FBQztpQkFDMUMsSUFBSSxDQUFDLFVBQUEsTUFBTSxJQUFJLE9BQUEsTUFBTSxJQUFJLE1BQU0sQ0FBQyxJQUFJLEVBQXJCLENBQXFCLENBQUMsQ0FBQztTQUMxQztRQUVELE9BQU8sSUFBSSxDQUFDLG9CQUFvQixDQUFDO0lBQ25DLENBQUM7O0lBYnVCLDZCQUFlLEdBQUcsVUFBVSxDQUFDOztnQkFHYixrQkFBa0I7O0lBSi9DLGFBQWE7UUFEekIsVUFBVSxFQUFFO09BQ0EsYUFBYSxDQWV6QjtJQUFELG9CQUFDO0NBQUEsQUFmRCxJQWVDO1NBZlksYUFBYSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEFjdGl2YXRlZFJvdXRlU25hcHNob3QsIENhbkFjdGl2YXRlLCBSb3V0ZXJTdGF0ZVNuYXBzaG90IH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcbmltcG9ydCB7IEFwcGxpY2F0aW9uU2VydmljZSB9IGZyb20gJ0BjOHkvY2xpZW50JztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEFjdGlsaXR5R3VhcmQgaW1wbGVtZW50cyBDYW5BY3RpdmF0ZSB7XG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IGFwcGxpY2F0aW9uTmFtZSA9ICdhY3RpbGl0eSc7XG4gIHByaXZhdGUgc2hvd0FjdGlsaXR5UHJvdmlkZXI6IFByb21pc2U8Ym9vbGVhbj47XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBhcHBsaWNhdGlvblNlcnZpY2U6IEFwcGxpY2F0aW9uU2VydmljZSkge31cblxuICBjYW5BY3RpdmF0ZShyb3V0ZTogQWN0aXZhdGVkUm91dGVTbmFwc2hvdCwgc3RhdGU6IFJvdXRlclN0YXRlU25hcHNob3QpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBpZiAodGhpcy5zaG93QWN0aWxpdHlQcm92aWRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnNob3dBY3RpbGl0eVByb3ZpZGVyID0gdGhpcy5hcHBsaWNhdGlvblNlcnZpY2VcbiAgICAgICAgLmlzQXZhaWxhYmxlKEFjdGlsaXR5R3VhcmQuYXBwbGljYXRpb25OYW1lKVxuICAgICAgICAudGhlbihyZXN1bHQgPT4gcmVzdWx0ICYmIHJlc3VsdC5kYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zaG93QWN0aWxpdHlQcm92aWRlcjtcbiAgfVxufVxuIl19