import * as tslib_1 from "tslib";
import { Injectable } from '@angular/core';
import { gettext, NavigatorNode } from '@c8y/ngx-components';
import { isObservable, of } from 'rxjs';
import { map } from 'rxjs/operators';
import { ImpactTabFactory } from './impact-tab.factory';
var ImpactNodeFactory = /** @class */ (function () {
    function ImpactNodeFactory(tabFactory) {
        this.tabFactory = tabFactory;
        this.connectivityNode = new NavigatorNode({
            parent: gettext('Settings'),
            label: gettext('Connectivity'),
            path: 'connectivitySettings',
            icon: 'plug',
            preventDuplicates: true
        });
    }
    ImpactNodeFactory.prototype.get = function () {
        var _this = this;
        return this.wrapIntoObservable(this.tabFactory.tab()).pipe(map(function (tab) {
            return !!tab ? [_this.connectivityNode] : [];
        }));
    };
    ImpactNodeFactory.prototype.wrapIntoObservable = function (value) {
        if (isObservable(value)) {
            return value;
        }
        return of(value);
    };
    ImpactNodeFactory.ctorParameters = function () { return [
        { type: ImpactTabFactory }
    ]; };
    ImpactNodeFactory = tslib_1.__decorate([
        Injectable()
    ], ImpactNodeFactory);
    return ImpactNodeFactory;
}());
export { ImpactNodeFactory };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW1wYWN0LW5vZGUuZmFjdG9yeS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BjOHkvbmd4LWNvbXBvbmVudHMvY29ubmVjdGl2aXR5LyIsInNvdXJjZXMiOlsiaW1wYWN0L2ltcGFjdC1ub2RlLmZhY3RvcnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTyxFQUFFLE9BQU8sRUFBRSxhQUFhLEVBQXdCLE1BQU0scUJBQXFCLENBQUM7QUFDbkYsT0FBTyxFQUFFLFlBQVksRUFBYyxFQUFFLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDcEQsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3JDLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBR3hEO0lBU0UsMkJBQW9CLFVBQTRCO1FBQTVCLGVBQVUsR0FBVixVQUFVLENBQWtCO1FBUi9CLHFCQUFnQixHQUFrQixJQUFJLGFBQWEsQ0FBQztZQUNuRSxNQUFNLEVBQUUsT0FBTyxDQUFDLFVBQVUsQ0FBQztZQUMzQixLQUFLLEVBQUUsT0FBTyxDQUFDLGNBQWMsQ0FBQztZQUM5QixJQUFJLEVBQUUsc0JBQXNCO1lBQzVCLElBQUksRUFBRSxNQUFNO1lBQ1osaUJBQWlCLEVBQUUsSUFBSTtTQUN4QixDQUFDLENBQUM7SUFFZ0QsQ0FBQztJQUVwRCwrQkFBRyxHQUFIO1FBQUEsaUJBTUM7UUFMQyxPQUFPLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUN4RCxHQUFHLENBQUMsVUFBQSxHQUFHO1lBQ0wsT0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFDOUMsQ0FBQyxDQUFDLENBQ0gsQ0FBQztJQUNKLENBQUM7SUFFTyw4Q0FBa0IsR0FBMUIsVUFBOEIsS0FBd0I7UUFDcEQsSUFBSSxZQUFZLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFDdkIsT0FBTyxLQUFLLENBQUM7U0FDZDtRQUVELE9BQU8sRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ25CLENBQUM7O2dCQWhCK0IsZ0JBQWdCOztJQVRyQyxpQkFBaUI7UUFEN0IsVUFBVSxFQUFFO09BQ0EsaUJBQWlCLENBMEI3QjtJQUFELHdCQUFDO0NBQUEsQUExQkQsSUEwQkM7U0ExQlksaUJBQWlCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgZ2V0dGV4dCwgTmF2aWdhdG9yTm9kZSwgTmF2aWdhdG9yTm9kZUZhY3RvcnkgfSBmcm9tICdAYzh5L25neC1jb21wb25lbnRzJztcbmltcG9ydCB7IGlzT2JzZXJ2YWJsZSwgT2JzZXJ2YWJsZSwgb2YgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IG1hcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IEltcGFjdFRhYkZhY3RvcnkgfSBmcm9tICcuL2ltcGFjdC10YWIuZmFjdG9yeSc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBJbXBhY3ROb2RlRmFjdG9yeSBpbXBsZW1lbnRzIE5hdmlnYXRvck5vZGVGYWN0b3J5IHtcbiAgcHJpdmF0ZSByZWFkb25seSBjb25uZWN0aXZpdHlOb2RlOiBOYXZpZ2F0b3JOb2RlID0gbmV3IE5hdmlnYXRvck5vZGUoe1xuICAgIHBhcmVudDogZ2V0dGV4dCgnU2V0dGluZ3MnKSxcbiAgICBsYWJlbDogZ2V0dGV4dCgnQ29ubmVjdGl2aXR5JyksXG4gICAgcGF0aDogJ2Nvbm5lY3Rpdml0eVNldHRpbmdzJyxcbiAgICBpY29uOiAncGx1ZycsXG4gICAgcHJldmVudER1cGxpY2F0ZXM6IHRydWVcbiAgfSk7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSB0YWJGYWN0b3J5OiBJbXBhY3RUYWJGYWN0b3J5KSB7fVxuXG4gIGdldCgpIHtcbiAgICByZXR1cm4gdGhpcy53cmFwSW50b09ic2VydmFibGUodGhpcy50YWJGYWN0b3J5LnRhYigpKS5waXBlKFxuICAgICAgbWFwKHRhYiA9PiB7XG4gICAgICAgIHJldHVybiAhIXRhYiA/IFt0aGlzLmNvbm5lY3Rpdml0eU5vZGVdIDogW107XG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHdyYXBJbnRvT2JzZXJ2YWJsZTxUPih2YWx1ZTogVCB8IE9ic2VydmFibGU8VD4pOiBPYnNlcnZhYmxlPFQ+IHtcbiAgICBpZiAoaXNPYnNlcnZhYmxlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBvZih2YWx1ZSk7XG4gIH1cbn1cbiJdfQ==