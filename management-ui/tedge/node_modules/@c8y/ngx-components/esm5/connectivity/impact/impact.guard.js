import * as tslib_1 from "tslib";
import { Injectable } from '@angular/core';
import { ApplicationService } from '@c8y/client';
var ImpactGuard = /** @class */ (function () {
    function ImpactGuard(applicationService) {
        this.applicationService = applicationService;
    }
    ImpactGuard_1 = ImpactGuard;
    ImpactGuard.prototype.canActivate = function (route, state) {
        if (this.showImpactProvider === undefined) {
            this.showImpactProvider = this.applicationService
                .isAvailable(ImpactGuard_1.applicationName)
                .then(function (result) { return result && result.data; });
        }
        return this.showImpactProvider;
    };
    var ImpactGuard_1;
    ImpactGuard.applicationName = 'impact';
    ImpactGuard.ctorParameters = function () { return [
        { type: ApplicationService }
    ]; };
    ImpactGuard = ImpactGuard_1 = tslib_1.__decorate([
        Injectable()
    ], ImpactGuard);
    return ImpactGuard;
}());
export { ImpactGuard };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW1wYWN0Lmd1YXJkLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGM4eS9uZ3gtY29tcG9uZW50cy9jb25uZWN0aXZpdHkvIiwic291cmNlcyI6WyJpbXBhY3QvaW1wYWN0Lmd1YXJkLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRTNDLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUdqRDtJQUlFLHFCQUFvQixrQkFBc0M7UUFBdEMsdUJBQWtCLEdBQWxCLGtCQUFrQixDQUFvQjtJQUFHLENBQUM7b0JBSm5ELFdBQVc7SUFNdEIsaUNBQVcsR0FBWCxVQUFZLEtBQTZCLEVBQUUsS0FBMEI7UUFDbkUsSUFBSSxJQUFJLENBQUMsa0JBQWtCLEtBQUssU0FBUyxFQUFFO1lBQ3pDLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUMsa0JBQWtCO2lCQUM5QyxXQUFXLENBQUMsYUFBVyxDQUFDLGVBQWUsQ0FBQztpQkFDeEMsSUFBSSxDQUFDLFVBQUEsTUFBTSxJQUFJLE9BQUEsTUFBTSxJQUFJLE1BQU0sQ0FBQyxJQUFJLEVBQXJCLENBQXFCLENBQUMsQ0FBQztTQUMxQztRQUVELE9BQU8sSUFBSSxDQUFDLGtCQUFrQixDQUFDO0lBQ2pDLENBQUM7O0lBYnVCLDJCQUFlLEdBQUcsUUFBUSxDQUFDOztnQkFHWCxrQkFBa0I7O0lBSi9DLFdBQVc7UUFEdkIsVUFBVSxFQUFFO09BQ0EsV0FBVyxDQWV2QjtJQUFELGtCQUFDO0NBQUEsQUFmRCxJQWVDO1NBZlksV0FBVyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEFjdGl2YXRlZFJvdXRlU25hcHNob3QsIENhbkFjdGl2YXRlLCBSb3V0ZXJTdGF0ZVNuYXBzaG90IH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcbmltcG9ydCB7IEFwcGxpY2F0aW9uU2VydmljZSB9IGZyb20gJ0BjOHkvY2xpZW50JztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEltcGFjdEd1YXJkIGltcGxlbWVudHMgQ2FuQWN0aXZhdGUge1xuICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBhcHBsaWNhdGlvbk5hbWUgPSAnaW1wYWN0JztcbiAgcHJpdmF0ZSBzaG93SW1wYWN0UHJvdmlkZXI6IFByb21pc2U8Ym9vbGVhbj47XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBhcHBsaWNhdGlvblNlcnZpY2U6IEFwcGxpY2F0aW9uU2VydmljZSkge31cblxuICBjYW5BY3RpdmF0ZShyb3V0ZTogQWN0aXZhdGVkUm91dGVTbmFwc2hvdCwgc3RhdGU6IFJvdXRlclN0YXRlU25hcHNob3QpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBpZiAodGhpcy5zaG93SW1wYWN0UHJvdmlkZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5zaG93SW1wYWN0UHJvdmlkZXIgPSB0aGlzLmFwcGxpY2F0aW9uU2VydmljZVxuICAgICAgICAuaXNBdmFpbGFibGUoSW1wYWN0R3VhcmQuYXBwbGljYXRpb25OYW1lKVxuICAgICAgICAudGhlbihyZXN1bHQgPT4gcmVzdWx0ICYmIHJlc3VsdC5kYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zaG93SW1wYWN0UHJvdmlkZXI7XG4gIH1cbn1cbiJdfQ==