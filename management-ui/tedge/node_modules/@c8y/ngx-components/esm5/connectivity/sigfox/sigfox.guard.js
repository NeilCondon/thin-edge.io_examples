import * as tslib_1 from "tslib";
import { Injectable } from '@angular/core';
import { ApplicationService } from '@c8y/client';
var SigfoxGuard = /** @class */ (function () {
    function SigfoxGuard(applicationService) {
        this.applicationService = applicationService;
    }
    SigfoxGuard_1 = SigfoxGuard;
    SigfoxGuard.prototype.canActivate = function (route, state) {
        if (this.showSigfoxProvider === undefined) {
            this.showSigfoxProvider = this.applicationService
                .isAvailable(SigfoxGuard_1.applicationName)
                .then(function (result) { return result && result.data; });
        }
        return this.showSigfoxProvider;
    };
    var SigfoxGuard_1;
    SigfoxGuard.applicationName = 'sigfox-agent';
    SigfoxGuard.ctorParameters = function () { return [
        { type: ApplicationService }
    ]; };
    SigfoxGuard = SigfoxGuard_1 = tslib_1.__decorate([
        Injectable()
    ], SigfoxGuard);
    return SigfoxGuard;
}());
export { SigfoxGuard };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2lnZm94Lmd1YXJkLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGM4eS9uZ3gtY29tcG9uZW50cy9jb25uZWN0aXZpdHkvIiwic291cmNlcyI6WyJzaWdmb3gvc2lnZm94Lmd1YXJkLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRTNDLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUdqRDtJQUlFLHFCQUFvQixrQkFBc0M7UUFBdEMsdUJBQWtCLEdBQWxCLGtCQUFrQixDQUFvQjtJQUFHLENBQUM7b0JBSm5ELFdBQVc7SUFNdEIsaUNBQVcsR0FBWCxVQUFZLEtBQTZCLEVBQUUsS0FBMEI7UUFDbkUsSUFBSSxJQUFJLENBQUMsa0JBQWtCLEtBQUssU0FBUyxFQUFFO1lBQ3pDLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUMsa0JBQWtCO2lCQUM5QyxXQUFXLENBQUMsYUFBVyxDQUFDLGVBQWUsQ0FBQztpQkFDeEMsSUFBSSxDQUFDLFVBQUEsTUFBTSxJQUFJLE9BQUEsTUFBTSxJQUFJLE1BQU0sQ0FBQyxJQUFJLEVBQXJCLENBQXFCLENBQUMsQ0FBQztTQUMxQztRQUVELE9BQU8sSUFBSSxDQUFDLGtCQUFrQixDQUFDO0lBQ2pDLENBQUM7O0lBYnVCLDJCQUFlLEdBQUcsY0FBYyxDQUFDOztnQkFHakIsa0JBQWtCOztJQUovQyxXQUFXO1FBRHZCLFVBQVUsRUFBRTtPQUNBLFdBQVcsQ0FldkI7SUFBRCxrQkFBQztDQUFBLEFBZkQsSUFlQztTQWZZLFdBQVciLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90LCBDYW5BY3RpdmF0ZSwgUm91dGVyU3RhdGVTbmFwc2hvdCB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5pbXBvcnQgeyBBcHBsaWNhdGlvblNlcnZpY2UgfSBmcm9tICdAYzh5L2NsaWVudCc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBTaWdmb3hHdWFyZCBpbXBsZW1lbnRzIENhbkFjdGl2YXRlIHtcbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgYXBwbGljYXRpb25OYW1lID0gJ3NpZ2ZveC1hZ2VudCc7XG4gIHByaXZhdGUgc2hvd1NpZ2ZveFByb3ZpZGVyOiBQcm9taXNlPGJvb2xlYW4+O1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgYXBwbGljYXRpb25TZXJ2aWNlOiBBcHBsaWNhdGlvblNlcnZpY2UpIHt9XG5cbiAgY2FuQWN0aXZhdGUocm91dGU6IEFjdGl2YXRlZFJvdXRlU25hcHNob3QsIHN0YXRlOiBSb3V0ZXJTdGF0ZVNuYXBzaG90KTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgaWYgKHRoaXMuc2hvd1NpZ2ZveFByb3ZpZGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuc2hvd1NpZ2ZveFByb3ZpZGVyID0gdGhpcy5hcHBsaWNhdGlvblNlcnZpY2VcbiAgICAgICAgLmlzQXZhaWxhYmxlKFNpZ2ZveEd1YXJkLmFwcGxpY2F0aW9uTmFtZSlcbiAgICAgICAgLnRoZW4ocmVzdWx0ID0+IHJlc3VsdCAmJiByZXN1bHQuZGF0YSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc2hvd1NpZ2ZveFByb3ZpZGVyO1xuICB9XG59XG4iXX0=