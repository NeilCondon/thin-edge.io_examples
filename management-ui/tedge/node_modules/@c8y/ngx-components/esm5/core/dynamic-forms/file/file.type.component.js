import * as tslib_1 from "tslib";
import { ChangeDetectionStrategy, Component, ViewChild } from '@angular/core';
import { FieldType } from '@ngx-formly/core';
var FieldFile = /** @class */ (function (_super) {
    tslib_1.__extends(FieldFile, _super);
    function FieldFile() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.dropAreaInputs = [
            'title',
            'message',
            'icon',
            'loadingMessage',
            'alwaysShow',
            'clickToOpen',
            'loading',
            'progress',
            'maxAllowedFiles',
            'files',
            'accept'
        ];
        return _this;
    }
    FieldFile_1 = FieldFile;
    FieldFile.prototype.ngOnInit = function () {
        var _this = this;
        this.dropAreaInputs
            .filter(function (input) { return _this.to[input] !== undefined; })
            .forEach(function (input) { return (_this.dropArea[input] = _this.to[input]); });
    };
    var FieldFile_1;
    FieldFile.CONFIG = {
        types: [
            {
                name: 'file',
                component: FieldFile_1
            }
        ]
    };
    tslib_1.__decorate([
        ViewChild('dropArea', { static: true })
    ], FieldFile.prototype, "dropArea", void 0);
    FieldFile = FieldFile_1 = tslib_1.__decorate([
        Component({
            selector: 'c8y-field-file',
            template: "<div class=\"form-group\" role=\"group\" [attr.aria-labelledby]=\"id + '-fieldset'\">\n  <div id=\"{{ id + '-fieldset' }}\" class=\"legend form-block\" *ngIf=\"to.label || to.description\">\n    {{ to.label }}\n    <button\n      *ngIf=\"to.description\"\n      class=\"btn-clean text-14 m-l-4\"\n      [popover]=\"to.description\"\n      placement=\"right\"\n      outsideClick=\"true\"\n      type=\"button\"\n    >\n      <i c8yIcon=\"question-circle-o\" class=\"text-primary\"></i>\n    </button>\n  </div>\n\n  <c8y-drop-area #dropArea class=\"drop-area-sm\" [formControl]=\"formControl\"> </c8y-drop-area>\n\n  <div\n    class=\"form-control-feedback-message has-error\"\n    role=\"alert\"\n    *ngIf=\"showError && formControl.errors\"\n  >\n    <formly-validation-message [field]=\"field\"></formly-validation-message>\n  </div>\n</div>\n",
            changeDetection: ChangeDetectionStrategy.OnPush
        })
    ], FieldFile);
    return FieldFile;
}(FieldType));
export { FieldFile };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsZS50eXBlLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BjOHkvbmd4LWNvbXBvbmVudHMvIiwic291cmNlcyI6WyJjb3JlL2R5bmFtaWMtZm9ybXMvZmlsZS9maWxlLnR5cGUuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsU0FBUyxFQUFVLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN0RixPQUFPLEVBQWdCLFNBQVMsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBUTNEO0lBQStCLHFDQUFTO0lBTHhDO1FBQUEscUVBb0NDO1FBckJVLG9CQUFjLEdBQWE7WUFDbEMsT0FBTztZQUNQLFNBQVM7WUFDVCxNQUFNO1lBQ04sZ0JBQWdCO1lBQ2hCLFlBQVk7WUFDWixhQUFhO1lBQ2IsU0FBUztZQUNULFVBQVU7WUFDVixpQkFBaUI7WUFDakIsT0FBTztZQUNQLFFBQVE7U0FDVCxDQUFDOztJQVNKLENBQUM7a0JBL0JZLFNBQVM7SUEwQnBCLDRCQUFRLEdBQVI7UUFBQSxpQkFJQztRQUhDLElBQUksQ0FBQyxjQUFjO2FBQ2hCLE1BQU0sQ0FBQyxVQUFBLEtBQUssSUFBSSxPQUFBLEtBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEtBQUssU0FBUyxFQUE1QixDQUE0QixDQUFDO2FBQzdDLE9BQU8sQ0FBQyxVQUFBLEtBQUssSUFBSSxPQUFBLENBQUMsS0FBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsR0FBRyxLQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQXZDLENBQXVDLENBQUMsQ0FBQztJQUMvRCxDQUFDOztJQTdCZSxnQkFBTSxHQUFpQjtRQUNyQyxLQUFLLEVBQUU7WUFDTDtnQkFDRSxJQUFJLEVBQUUsTUFBTTtnQkFDWixTQUFTLEVBQUUsV0FBUzthQUNyQjtTQUNGO0tBQ0YsQ0FBQztJQWdCdUM7UUFBeEMsU0FBUyxDQUFDLFVBQVUsRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsQ0FBQzsrQ0FBNkI7SUF4QjFELFNBQVM7UUFMckIsU0FBUyxDQUFDO1lBQ1QsUUFBUSxFQUFFLGdCQUFnQjtZQUMxQiwyMUJBQXlDO1lBQ3pDLGVBQWUsRUFBRSx1QkFBdUIsQ0FBQyxNQUFNO1NBQ2hELENBQUM7T0FDVyxTQUFTLENBK0JyQjtJQUFELGdCQUFDO0NBQUEsQUEvQkQsQ0FBK0IsU0FBUyxHQStCdkM7U0EvQlksU0FBUyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDb21wb25lbnQsIE9uSW5pdCwgVmlld0NoaWxkIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb25maWdPcHRpb24sIEZpZWxkVHlwZSB9IGZyb20gJ0BuZ3gtZm9ybWx5L2NvcmUnO1xuaW1wb3J0IHsgRHJvcEFyZWFDb21wb25lbnQgfSBmcm9tICcuLi8uLi9kcm9wLWFyZWEnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdjOHktZmllbGQtZmlsZScsXG4gIHRlbXBsYXRlVXJsOiAnLi9maWxlLnR5cGUuY29tcG9uZW50Lmh0bWwnLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaFxufSlcbmV4cG9ydCBjbGFzcyBGaWVsZEZpbGUgZXh0ZW5kcyBGaWVsZFR5cGUgaW1wbGVtZW50cyBPbkluaXQge1xuICBzdGF0aWMgcmVhZG9ubHkgQ09ORklHOiBDb25maWdPcHRpb24gPSB7XG4gICAgdHlwZXM6IFtcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ2ZpbGUnLFxuICAgICAgICBjb21wb25lbnQ6IEZpZWxkRmlsZVxuICAgICAgfVxuICAgIF1cbiAgfTtcblxuICByZWFkb25seSBkcm9wQXJlYUlucHV0czogc3RyaW5nW10gPSBbXG4gICAgJ3RpdGxlJyxcbiAgICAnbWVzc2FnZScsXG4gICAgJ2ljb24nLFxuICAgICdsb2FkaW5nTWVzc2FnZScsXG4gICAgJ2Fsd2F5c1Nob3cnLFxuICAgICdjbGlja1RvT3BlbicsXG4gICAgJ2xvYWRpbmcnLFxuICAgICdwcm9ncmVzcycsXG4gICAgJ21heEFsbG93ZWRGaWxlcycsXG4gICAgJ2ZpbGVzJyxcbiAgICAnYWNjZXB0J1xuICBdO1xuXG4gIEBWaWV3Q2hpbGQoJ2Ryb3BBcmVhJywgeyBzdGF0aWM6IHRydWUgfSkgZHJvcEFyZWE6IERyb3BBcmVhQ29tcG9uZW50O1xuXG4gIG5nT25Jbml0KCk6IHZvaWQge1xuICAgIHRoaXMuZHJvcEFyZWFJbnB1dHNcbiAgICAgIC5maWx0ZXIoaW5wdXQgPT4gdGhpcy50b1tpbnB1dF0gIT09IHVuZGVmaW5lZClcbiAgICAgIC5mb3JFYWNoKGlucHV0ID0+ICh0aGlzLmRyb3BBcmVhW2lucHV0XSA9IHRoaXMudG9baW5wdXRdKSk7XG4gIH1cbn1cbiJdfQ==