import * as tslib_1 from "tslib";
import { Injectable } from '@angular/core';
import { TranslateDefaultParser } from '@ngx-translate/core';
import { get } from 'lodash-es';
import { trimTranslationKey } from './translate.loader';
var TranslateParserCustom = /** @class */ (function (_super) {
    tslib_1.__extends(TranslateParserCustom, _super);
    function TranslateParserCustom() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    TranslateParserCustom.prototype.getValue = function (target, key) {
        var trimmedKey = trimTranslationKey(key);
        var translated = get(target, [trimmedKey]);
        if (!translated) {
            var keys = key.split('.');
            if (keys.length > 1) {
                translated = get(target, key);
            }
        }
        return translated;
    };
    TranslateParserCustom = tslib_1.__decorate([
        Injectable()
    ], TranslateParserCustom);
    return TranslateParserCustom;
}(TranslateDefaultParser));
export { TranslateParserCustom };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhbnNsYXRlLnBhcnNlci5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BjOHkvbmd4LWNvbXBvbmVudHMvIiwic291cmNlcyI6WyJjb3JlL2kxOG4vdHJhbnNsYXRlLnBhcnNlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUM3RCxPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sV0FBVyxDQUFDO0FBQ2hDLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBR3hEO0lBQTJDLGlEQUFzQjtJQUFqRTs7SUFZQSxDQUFDO0lBWEMsd0NBQVEsR0FBUixVQUFTLE1BQVcsRUFBRSxHQUFXO1FBQy9CLElBQU0sVUFBVSxHQUFJLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzVDLElBQUksVUFBVSxHQUFHLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO1FBQzNDLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDZixJQUFNLElBQUksR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzVCLElBQUksSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7Z0JBQ25CLFVBQVUsR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDO2FBQy9CO1NBQ0Y7UUFDRCxPQUFPLFVBQVUsQ0FBQztJQUNwQixDQUFDO0lBWFUscUJBQXFCO1FBRGpDLFVBQVUsRUFBRTtPQUNBLHFCQUFxQixDQVlqQztJQUFELDRCQUFDO0NBQUEsQUFaRCxDQUEyQyxzQkFBc0IsR0FZaEU7U0FaWSxxQkFBcUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBUcmFuc2xhdGVEZWZhdWx0UGFyc2VyIH0gZnJvbSAnQG5neC10cmFuc2xhdGUvY29yZSc7XG5pbXBvcnQgeyBnZXQgfSBmcm9tICdsb2Rhc2gtZXMnO1xuaW1wb3J0IHsgdHJpbVRyYW5zbGF0aW9uS2V5IH0gZnJvbSAnLi90cmFuc2xhdGUubG9hZGVyJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFRyYW5zbGF0ZVBhcnNlckN1c3RvbSBleHRlbmRzIFRyYW5zbGF0ZURlZmF1bHRQYXJzZXIge1xuICBnZXRWYWx1ZSh0YXJnZXQ6IGFueSwga2V5OiBzdHJpbmcpOiBhbnkge1xuICAgIGNvbnN0IHRyaW1tZWRLZXkgPSAgdHJpbVRyYW5zbGF0aW9uS2V5KGtleSk7XG4gICAgbGV0IHRyYW5zbGF0ZWQgPSBnZXQodGFyZ2V0LCBbdHJpbW1lZEtleV0pO1xuICAgIGlmICghdHJhbnNsYXRlZCkge1xuICAgICAgY29uc3Qga2V5cyA9IGtleS5zcGxpdCgnLicpO1xuICAgICAgaWYgKGtleXMubGVuZ3RoID4gMSkge1xuICAgICAgICB0cmFuc2xhdGVkID0gZ2V0KHRhcmdldCwga2V5KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRyYW5zbGF0ZWQ7XG4gIH1cbn1cbiJdfQ==