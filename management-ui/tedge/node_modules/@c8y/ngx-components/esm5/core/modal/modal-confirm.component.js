import * as tslib_1 from "tslib";
import { Component, Input } from '@angular/core';
import { BsModalRef } from 'ngx-bootstrap/modal';
import { Status, statusAlert, statusIcons } from '../common/status.model';
var ConfirmModalComponent = /** @class */ (function () {
    function ConfirmModalComponent(modal) {
        var _this = this;
        this.modal = modal;
        this.status = Status.INFO;
        this._labels = {
            ok: 'OK',
            cancel: 'Cancel'
        };
        this.result = new Promise(function (resolve, reject) {
            _this.dismiss = function () {
                reject();
                _this.modal.hide();
            };
            _this.close = function () {
                resolve(true);
                _this.modal.hide();
            };
        });
    }
    Object.defineProperty(ConfirmModalComponent.prototype, "labels", {
        get: function () {
            return this._labels;
        },
        set: function (labels) {
            var _a = labels || {}, _b = _a.ok, ok = _b === void 0 ? 'OK' : _b, _c = _a.cancel, cancel = _c === void 0 ? 'Cancel' : _c;
            this._labels = { ok: ok, cancel: cancel };
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ConfirmModalComponent.prototype, "classIcon", {
        get: function () {
            return "dlt-c8y-icon-" + statusIcons[this.status];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ConfirmModalComponent.prototype, "classAlert", {
        get: function () {
            return statusAlert[this.status];
        },
        enumerable: true,
        configurable: true
    });
    ConfirmModalComponent.prototype.ngOnDestroy = function () {
        this.dismiss();
    };
    ConfirmModalComponent.ctorParameters = function () { return [
        { type: BsModalRef }
    ]; };
    tslib_1.__decorate([
        Input()
    ], ConfirmModalComponent.prototype, "title", void 0);
    tslib_1.__decorate([
        Input()
    ], ConfirmModalComponent.prototype, "body", void 0);
    tslib_1.__decorate([
        Input()
    ], ConfirmModalComponent.prototype, "status", void 0);
    tslib_1.__decorate([
        Input()
    ], ConfirmModalComponent.prototype, "labels", null);
    ConfirmModalComponent = tslib_1.__decorate([
        Component({
            selector: 'c8y-confirm-modal',
            template: "<div class=\"c8y-prompt alert\" [ngClass]=\"[classAlert]\">\n  <h3 class=\"m-b-16\" *ngIf=\"title\">\n    <i class=\"dlt-c8y-icon\" [ngClass]=\"[classIcon]\"></i>\n    <span *ngIf=\"title\">{{ title | translate }}</span>\n  </h3>\n  <p class=\"text-break-word\">{{ body | translate }}</p>\n  <ng-content></ng-content>\n  <div class=\"alert-footer\">\n    <button\n      title=\"{{ labels.cancel | translate }}\"\n      class=\"btn btn-default\"\n      *ngIf=\"labels.cancel !== null\"\n      (click)=\"dismiss()\"\n    >\n      {{ labels.cancel | translate }}\n    </button>\n    <button title=\"{{ labels.ok | translate }}\" class=\"btn btn-primary\" (click)=\"close()\">\n      {{ labels.ok | translate }}\n    </button>\n  </div>\n</div>\n"
        })
    ], ConfirmModalComponent);
    return ConfirmModalComponent;
}());
export { ConfirmModalComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kYWwtY29uZmlybS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AYzh5L25neC1jb21wb25lbnRzLyIsInNvdXJjZXMiOlsiY29yZS9tb2RhbC9tb2RhbC1jb25maXJtLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQWEsTUFBTSxlQUFlLENBQUM7QUFDNUQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ2pELE9BQU8sRUFBRSxNQUFNLEVBQUUsV0FBVyxFQUFFLFdBQVcsRUFBYyxNQUFNLHdCQUF3QixDQUFDO0FBY3RGO0lBaUJFLCtCQUFvQixLQUFpQjtRQUFyQyxpQkFlQztRQWZtQixVQUFLLEdBQUwsS0FBSyxDQUFZO1FBWDVCLFdBQU0sR0FBZSxNQUFNLENBQUMsSUFBSSxDQUFDO1FBWXhDLElBQUksQ0FBQyxPQUFPLEdBQUc7WUFDYixFQUFFLEVBQUUsSUFBSTtZQUNSLE1BQU0sRUFBRSxRQUFRO1NBQ2pCLENBQUM7UUFDRixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksT0FBTyxDQUFDLFVBQUMsT0FBTyxFQUFFLE1BQU07WUFDeEMsS0FBSSxDQUFDLE9BQU8sR0FBRztnQkFDYixNQUFNLEVBQUUsQ0FBQztnQkFDVCxLQUFJLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDO1lBQ3BCLENBQUMsQ0FBQztZQUNGLEtBQUksQ0FBQyxLQUFLLEdBQUc7Z0JBQ1gsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNkLEtBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDcEIsQ0FBQyxDQUFDO1FBQ0osQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBekJRLHNCQUFJLHlDQUFNO2FBS25CO1lBQ0UsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDO1FBQ3RCLENBQUM7YUFQUSxVQUFXLE1BQW1CO1lBQy9CLElBQUEsaUJBQStDLEVBQTdDLFVBQVMsRUFBVCw4QkFBUyxFQUFFLGNBQWlCLEVBQWpCLHNDQUFrQyxDQUFDO1lBQ3RELElBQUksQ0FBQyxPQUFPLEdBQUcsRUFBRSxFQUFFLElBQUEsRUFBRSxNQUFNLFFBQUEsRUFBRSxDQUFDO1FBQ2hDLENBQUM7OztPQUFBO0lBd0JELHNCQUFJLDRDQUFTO2FBQWI7WUFDRSxPQUFPLGtCQUFnQixXQUFXLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBRyxDQUFDO1FBQ3BELENBQUM7OztPQUFBO0lBRUQsc0JBQUksNkNBQVU7YUFBZDtZQUNFLE9BQU8sV0FBVyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNsQyxDQUFDOzs7T0FBQTtJQUVELDJDQUFXLEdBQVg7UUFDRSxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDakIsQ0FBQzs7Z0JBM0IwQixVQUFVOztJQWI1QjtRQUFSLEtBQUssRUFBRTt3REFBZTtJQUNkO1FBQVIsS0FBSyxFQUFFO3VEQUFjO0lBQ2I7UUFBUixLQUFLLEVBQUU7eURBQWtDO0lBQ2pDO1FBQVIsS0FBSyxFQUFFO3VEQUdQO0lBVlUscUJBQXFCO1FBSmpDLFNBQVMsQ0FBQztZQUNULFFBQVEsRUFBRSxtQkFBbUI7WUFDN0Isa3ZCQUE2QztTQUM5QyxDQUFDO09BQ1cscUJBQXFCLENBNkNqQztJQUFELDRCQUFDO0NBQUEsQUE3Q0QsSUE2Q0M7U0E3Q1kscUJBQXFCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgT25EZXN0cm95IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBCc01vZGFsUmVmIH0gZnJvbSAnbmd4LWJvb3RzdHJhcC9tb2RhbCc7XG5pbXBvcnQgeyBTdGF0dXMsIHN0YXR1c0FsZXJ0LCBzdGF0dXNJY29ucywgU3RhdHVzVHlwZSB9IGZyb20gJy4uL2NvbW1vbi9zdGF0dXMubW9kZWwnO1xuaW1wb3J0IHsgTW9kYWxMYWJlbHMgfSBmcm9tICcuLi9zZWxlY3QtbW9kYWwvc2VsZWN0LW1vZGFsLm1vZGVsJztcblxuLyoqXG4gKiBMYWJlbHMgdG8gYmUgdXNlZCBpbiB0aGUgc2VsZWN0aW9uIG1vZGFsLlxuICogQGRlcHJlY2F0ZWQgVGhpcyBpcyBnb2luZyB0byBiZSByZW1vdmVkIGFmdGVyIDEwMDcuNy4wLiBVc2UgTW9kYWxMYWJlbHMgaW5zdGVhZC5cbiAqL1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby1lbXB0eS1pbnRlcmZhY2VcbmV4cG9ydCBpbnRlcmZhY2UgSUxhYmVscyBleHRlbmRzIE1vZGFsTGFiZWxzIHt9XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2M4eS1jb25maXJtLW1vZGFsJyxcbiAgdGVtcGxhdGVVcmw6ICcuL21vZGFsLWNvbmZpcm0uY29tcG9uZW50Lmh0bWwnXG59KVxuZXhwb3J0IGNsYXNzIENvbmZpcm1Nb2RhbENvbXBvbmVudCBpbXBsZW1lbnRzIE9uRGVzdHJveSB7XG4gIHJlc3VsdDogUHJvbWlzZTxib29sZWFuPjtcbiAgZGlzbWlzczogKCkgPT4gdm9pZDtcbiAgY2xvc2U6ICgpID0+IHZvaWQ7XG4gIEBJbnB1dCgpIHRpdGxlOiBzdHJpbmc7XG4gIEBJbnB1dCgpIGJvZHk6IHN0cmluZztcbiAgQElucHV0KCkgc3RhdHVzOiBTdGF0dXNUeXBlID0gU3RhdHVzLklORk87XG4gIEBJbnB1dCgpIHNldCBsYWJlbHMobGFiZWxzOiBNb2RhbExhYmVscykge1xuICAgIGNvbnN0IHsgb2sgPSAnT0snLCBjYW5jZWwgPSAnQ2FuY2VsJyB9ID0gbGFiZWxzIHx8IHt9O1xuICAgIHRoaXMuX2xhYmVscyA9IHsgb2ssIGNhbmNlbCB9O1xuICB9XG5cbiAgZ2V0IGxhYmVscygpOiBNb2RhbExhYmVscyB7XG4gICAgcmV0dXJuIHRoaXMuX2xhYmVscztcbiAgfVxuXG4gIHByaXZhdGUgX2xhYmVsczogTW9kYWxMYWJlbHM7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbW9kYWw6IEJzTW9kYWxSZWYpIHtcbiAgICB0aGlzLl9sYWJlbHMgPSB7XG4gICAgICBvazogJ09LJyxcbiAgICAgIGNhbmNlbDogJ0NhbmNlbCdcbiAgICB9O1xuICAgIHRoaXMucmVzdWx0ID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5kaXNtaXNzID0gKCkgPT4ge1xuICAgICAgICByZWplY3QoKTtcbiAgICAgICAgdGhpcy5tb2RhbC5oaWRlKCk7XG4gICAgICB9O1xuICAgICAgdGhpcy5jbG9zZSA9ICgpID0+IHtcbiAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgdGhpcy5tb2RhbC5oaWRlKCk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0IGNsYXNzSWNvbigpIHtcbiAgICByZXR1cm4gYGRsdC1jOHktaWNvbi0ke3N0YXR1c0ljb25zW3RoaXMuc3RhdHVzXX1gO1xuICB9XG5cbiAgZ2V0IGNsYXNzQWxlcnQoKSB7XG4gICAgcmV0dXJuIHN0YXR1c0FsZXJ0W3RoaXMuc3RhdHVzXTtcbiAgfVxuXG4gIG5nT25EZXN0cm95KCkge1xuICAgIHRoaXMuZGlzbWlzcygpO1xuICB9XG59XG4iXX0=