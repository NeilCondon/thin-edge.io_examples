import * as tslib_1 from "tslib";
import { Injectable } from '@angular/core';
import { InventoryService } from '@c8y/client';
var AssignDevicesService = /** @class */ (function () {
    function AssignDevicesService(inventoryService) {
        this.inventoryService = inventoryService;
    }
    AssignDevicesService.prototype.assignDevices = function (id, selectedDevices) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var promises;
            var _this = this;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        promises = [];
                        selectedDevices.forEach(function (moId) {
                            promises.push(_this.inventoryService.childAssetsAdd(moId, id));
                        });
                        return [4 /*yield*/, Promise.all(promises)];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    AssignDevicesService.ctorParameters = function () { return [
        { type: InventoryService }
    ]; };
    AssignDevicesService = tslib_1.__decorate([
        Injectable()
    ], AssignDevicesService);
    return AssignDevicesService;
}());
export { AssignDevicesService };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXNzaWduLWRldmljZXMuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BjOHkvbmd4LWNvbXBvbmVudHMvc3ViLWFzc2V0cy8iLCJzb3VyY2VzIjpbImFzc2lnbi1kZXZpY2VzL2Fzc2lnbi1kZXZpY2VzLnNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sYUFBYSxDQUFDO0FBRy9DO0lBQ0UsOEJBQW9CLGdCQUFrQztRQUFsQyxxQkFBZ0IsR0FBaEIsZ0JBQWdCLENBQWtCO0lBQUcsQ0FBQztJQUVwRCw0Q0FBYSxHQUFuQixVQUFvQixFQUFtQixFQUFFLGVBQXlCOzs7Ozs7O3dCQUMxRCxRQUFRLEdBQUcsRUFBRSxDQUFDO3dCQUVwQixlQUFlLENBQUMsT0FBTyxDQUFDLFVBQUEsSUFBSTs0QkFDMUIsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFJLENBQUMsZ0JBQWdCLENBQUMsY0FBYyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO3dCQUNoRSxDQUFDLENBQUMsQ0FBQzt3QkFFSSxxQkFBTSxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxFQUFBOzRCQUFsQyxzQkFBTyxTQUEyQixFQUFDOzs7O0tBQ3BDOztnQkFWcUMsZ0JBQWdCOztJQUQzQyxvQkFBb0I7UUFEaEMsVUFBVSxFQUFFO09BQ0Esb0JBQW9CLENBWWhDO0lBQUQsMkJBQUM7Q0FBQSxBQVpELElBWUM7U0FaWSxvQkFBb0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBJbnZlbnRvcnlTZXJ2aWNlIH0gZnJvbSAnQGM4eS9jbGllbnQnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgQXNzaWduRGV2aWNlc1NlcnZpY2Uge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGludmVudG9yeVNlcnZpY2U6IEludmVudG9yeVNlcnZpY2UpIHt9XG5cbiAgYXN5bmMgYXNzaWduRGV2aWNlcyhpZDogc3RyaW5nIHwgbnVtYmVyLCBzZWxlY3RlZERldmljZXM6IHN0cmluZ1tdKSB7XG4gICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcblxuICAgIHNlbGVjdGVkRGV2aWNlcy5mb3JFYWNoKG1vSWQgPT4ge1xuICAgICAgcHJvbWlzZXMucHVzaCh0aGlzLmludmVudG9yeVNlcnZpY2UuY2hpbGRBc3NldHNBZGQobW9JZCwgaWQpKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gIH1cbn1cbiJdfQ==