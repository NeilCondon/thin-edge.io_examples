import { __extends, __awaiter, __generator, __decorate } from 'tslib';
import { Component, NgModule } from '@angular/core';
import { ActivatedRoute, RouterModule } from '@angular/router';
import { get } from 'lodash-es';
import { BaseStepperComponent, BulkOperationStepperModule } from '@c8y/ngx-components/operations/bulk-operation-stepper';
import { BulkOperationsService } from '@c8y/ngx-components/operations/bulk-operations-service';
import { CoreModule } from '@c8y/ngx-components';

var BulkOperationFromSingleComponent = /** @class */ (function (_super) {
    __extends(BulkOperationFromSingleComponent, _super);
    function BulkOperationFromSingleComponent(activatedRoute, bulkOperationService) {
        var _this = _super.call(this) || this;
        _this.activatedRoute = activatedRoute;
        _this.bulkOperationService = bulkOperationService;
        return _this;
    }
    BulkOperationFromSingleComponent.prototype.retrieveOperationPrototype = function () {
        return __awaiter(this, void 0, void 0, function () {
            var prototype;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.bulkOperationService.getOperation(this.activatedRoute.snapshot.params.operationId)];
                    case 1:
                        prototype = (_a.sent()).data;
                        return [2 /*return*/, {
                                description: get(prototype, 'description'),
                                prototype: prototype
                            }];
                }
            });
        });
    };
    BulkOperationFromSingleComponent.ctorParameters = function () { return [
        { type: ActivatedRoute },
        { type: BulkOperationsService }
    ]; };
    BulkOperationFromSingleComponent = __decorate([
        Component({
            selector: 'bulk-operation-from-single',
            template: "<c8y-bulk-operation-stepper> </c8y-bulk-operation-stepper>\n"
        })
    ], BulkOperationFromSingleComponent);
    return BulkOperationFromSingleComponent;
}(BaseStepperComponent));

var bulkOperationCreateSingleRoutes = [
    {
        path: 'devicecontrol/single/create-bulk/:operationId',
        component: BulkOperationFromSingleComponent
    }
];
var BulkOperationFromSingleModule = /** @class */ (function () {
    function BulkOperationFromSingleModule() {
    }
    BulkOperationFromSingleModule = __decorate([
        NgModule({
            declarations: [BulkOperationFromSingleComponent],
            imports: [
                CoreModule,
                BulkOperationStepperModule,
                RouterModule.forChild(bulkOperationCreateSingleRoutes)
            ]
        })
    ], BulkOperationFromSingleModule);
    return BulkOperationFromSingleModule;
}());

/**
 * Generated bundle index. Do not edit.
 */

export { BulkOperationFromSingleComponent, BulkOperationFromSingleModule, bulkOperationCreateSingleRoutes };
//# sourceMappingURL=c8y-ngx-components-operations-bulk-operation-from-single.js.map
