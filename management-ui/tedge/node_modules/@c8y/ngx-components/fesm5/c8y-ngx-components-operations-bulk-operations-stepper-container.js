import { __decorate } from 'tslib';
import { ComponentFactoryResolver, ChangeDetectorRef, ViewChild, ViewContainerRef, Component, NgModule } from '@angular/core';
import { ActivatedRoute, RouterModule } from '@angular/router';
import { CoreModule } from '@c8y/ngx-components';
import { BulkOperationsService } from '@c8y/ngx-components/operations/bulk-operations-service';

var BulkOperationsStepperContainerComponent = /** @class */ (function () {
    function BulkOperationsStepperContainerComponent(activatedRoute, bulkOpsService, resolver, changeDetector) {
        this.activatedRoute = activatedRoute;
        this.bulkOpsService = bulkOpsService;
        this.resolver = resolver;
        this.changeDetector = changeDetector;
    }
    BulkOperationsStepperContainerComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.activatedRoute.params.subscribe(function (params) {
            if (params && params.type) {
                _this.bulkOperationType = params.type;
                _this.component = _this.bulkOpsService
                    .getBulkTypes()
                    .find(function (element) { return element.path.includes(_this.bulkOperationType); }).component;
                _this.changeDetector.detectChanges();
                _this.createComponent(_this.component);
            }
        });
    };
    BulkOperationsStepperContainerComponent.prototype.createComponent = function (component) {
        if (component) {
            var factory = this.resolver.resolveComponentFactory(component);
            this.container.createComponent(factory);
        }
    };
    BulkOperationsStepperContainerComponent.ctorParameters = function () { return [
        { type: ActivatedRoute },
        { type: BulkOperationsService },
        { type: ComponentFactoryResolver },
        { type: ChangeDetectorRef }
    ]; };
    __decorate([
        ViewChild('container', { static: false, read: ViewContainerRef })
    ], BulkOperationsStepperContainerComponent.prototype, "container", void 0);
    BulkOperationsStepperContainerComponent = __decorate([
        Component({
            selector: 'bulk-operations-stepper-container',
            template: "<c8y-title>{{ 'New bulk operation' | translate }}</c8y-title>\n<div class=\"card card--grid--fullpage\">\n  <div class=\"d-contents\">\n    <template #container></template>\n  </div>\n</div>\n"
        })
    ], BulkOperationsStepperContainerComponent);
    return BulkOperationsStepperContainerComponent;
}());

var bulkOperatioStepperRoutes = [
    {
        path: 'devicecontrol/bulk/creation/:type',
        component: BulkOperationsStepperContainerComponent
    }
];
/**
 * Container module for the new bulk operation steppers. Use this module in your application
 * to provide a step by step guided process for scheduling of bulk operations.
 * The module reads the bulk operation type from the URL and displays the corresponding stepper.
 * You can provide stepper for your custom bulk operation type by registering it with the
 * HOOK_LIST_BULK_TYPE injection token.
 */
var BulkOperationsStepperContainerModule = /** @class */ (function () {
    function BulkOperationsStepperContainerModule() {
    }
    BulkOperationsStepperContainerModule = __decorate([
        NgModule({
            declarations: [BulkOperationsStepperContainerComponent],
            imports: [CoreModule, RouterModule.forChild(bulkOperatioStepperRoutes)],
            entryComponents: [BulkOperationsStepperContainerComponent]
        })
    ], BulkOperationsStepperContainerModule);
    return BulkOperationsStepperContainerModule;
}());

/**
 * Generated bundle index. Do not edit.
 */

export { BulkOperationsStepperContainerComponent, BulkOperationsStepperContainerModule, bulkOperatioStepperRoutes };
//# sourceMappingURL=c8y-ngx-components-operations-bulk-operations-stepper-container.js.map
